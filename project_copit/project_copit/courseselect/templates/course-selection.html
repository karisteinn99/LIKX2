<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	{% load static %}
    <link rel="stylesheet"  href="{% static 'course-select.css' %}">
	<script src="{% static 'course-select.js' %}" defer></script>
	<title>course-selection</title>
</head>
<body>
	<div id="bg">
        <img src="{% static 'white_paper.jpg' %}" alt="backround_image">
    </div>

	<div class="navbar"> 
		<a href=".." id="logout">LOG OUT</a>
		<a href="hmm">ABOUT US</a>
	</div>

	<form action="" method="post">
		<input type="submit">

	</form>

	<div class="box" id="leftbox">  
	<h1>Calendar</h1>
	<h3>1. year</h3>
	<div class="year-container">
		<div class="semester" id="s1">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "1" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
		<div class="semester" id="s2">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "2" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
	</div>
	<h3>2. year</h3>
	<div class="year-container">
		<div class="semester" id="s3">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "3" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
		<div class="semester" id="s4">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "4" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
	</div>
	<h3>3. year</h3>
	<div class="year-container">
		<div class="semester" id="s5">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "5" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
		<div class="semester" id="s6">{% for course in courses %}{% for semester, id_list in semesters.items %}{% if course.id in id_list and semester == "6" %}<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button><div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div></div>{% endif %}{% endfor %}{% endfor %}</div>
	</div>

	</div>
	<div class="box" id="middlebox">
		<h1>Courses Available</h1>
		<div class="bigContainer">
			{% for course in courses %}
			{% if course.id not in courses_in_calender %}
				<div class="course {{course.id}}" draggable="true"> <p>{{ course.name }} ({{course.course_code}}) - {{ course.ects }} ECTS - {{ course.semester_type }}</p><button class="infoButton_open" onclick='openInfo("{{course.id}}")'>i</button> 
					<div class="infoPopup" id="{{course.id}}"><button class="infoButton_close" onclick='closeInfo("{{course.id}}")'>X</button><div class="destringify">{{course.description}}</div></div>
				</div>
			{% endif %}
			{% endfor %}
		</div>
	</div>

	<div class="box" id="rightbox">
		<h1>Check</h1>
		<button class="CHECK" id="save-button" onclick="form_function()"><img id="save-image" src="{% static 'save_icon.png' %}" alt="save button logo"></button>
		<form class="form" action="course-selection-with-form" method="post">
			{% csrf_token %}
			{{form}}
			<input class="form-input" id="semester-1" type="text" name="1">
			<input class="form-input" id="semester-2" type="text" name="2">
			<input class="form-input" id="semester-3" type="text" name="3">
			<input class="form-input" id="semester-4" type="text" name="4">
			<input class="form-input" id="semester-5" type="text" name="5">
			<input class="form-input" id="semester-6" type="text" name="6">
			<input class="CHECK" id="check-button" type="submit" value="check">
		</form>
		<div class="bigContainer">
			
		Checking requirements
		<br>
		<br>{% for head_requirement,sub_requirements in head_requirements.items %} 
		<br>{{ head_requirement.title }}:
		<br>{% for sub_requirement,result in sub_requirements.items %}
		<br>{{ sub_requirement.label_id }}: {{ result }}{% endfor %} 
		{% endfor %}
		<br>
		<br>{% for requirement,result in other_requirements.items %}
		<br>{% for res in result %}
		<br>{{ res }}
		{% endfor %}
		{% endfor %}
		</div>
	</div>
	<div class="test-box">
	{% for course in courses %}
	{% for semester, id_list in semesters.items %}
		{{course}} {{semester}} {{id_list}}
	{% endfor %}
	{% endfor %}
	</div>
	
</body>
</html>